apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  # name must match the spec fields below, and be in the form: <plural>.<group>
  name: kamussecrets.soluto.com
spec:
  preserveUnknownFields: false
  # group name to use for REST API: /apis/<group>/<version>
  group: soluto.com
  # version name to use for REST API: /apis/<group>/<version>
  versions:
  - name: v1alpha1
    # Each version can be enabled/disabled by Served flag.
    served: true
    # One and only one version must be marked as the storage version.
    storage: false
    schema:
      openAPIV3Schema:
        type: object
        properties:
          data:
            type: object
            additionalProperties: true
          serviceAccount: 
            type: string
          type:
            type: string
  - name: v1alpha2
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        properties:
          data:
            type: object
            additionalProperties: true
          stringData:
            type: object
            additionalProperties: true
          serviceAccount: 
            type: string
          type:
            type: string
  # either Namespaced or Cluster
  scope: Namespaced
  names:
    # plural name to be used in the URL: /apis/<group>/<version>/<plural>
    plural: kamussecrets
    # singular name to be used as an alias on the CLI and for display
    singular: kamussecret
    # kind is normally the CamelCased singular type. Your resource manifests use this.
    kind: KamusSecret
    # shortNames allow shorter string to match your resource on the CLI
    shortNames:
     - ks
  conversion:
    strategy: Webhook
    webhookClientConfig:
      service:
        namespace: default
        name: kamus-decryptor
        path: /api/v1/conversion-webhook
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV5RENDQXJBQ0NRRElnR3V4VUZkYWFUQU5CZ2txaGtpRzl3MEJBUXNGQURBbU1TUXdJZ1lEVlFRRERCdHIKWVcxMWN5MWtaV055ZVhCMGIzSXVaR1ZtWVhWc2RDNXpkbU13SGhjTk1Ua3dPREE0TVRReE56RTFXaGNOTWpBdwpPREEzTVRReE56RTFXakFtTVNRd0lnWURWUVFEREJ0cllXMTFjeTFrWldOeWVYQjBiM0l1WkdWbVlYVnNkQzV6CmRtTXdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDd09xSEFuWWdzblhYQkNkODUKVlNjUDhUa3V5UjRQTERSWG4vV21icWMxQVkwV3UvMkRtRktLSU84a1Rrc1d4dUpwbklBVFlFTUVXN2JWaDVKNQpXTGhmNC84RFVxWXZuTndNK2k1Z3hmK25BM2l5N09zN24zZks1SU1BaU00YTJiU3NqU2oyU3NqTmJEZVJDTE1CCjNhMThPM1dsV2RNWTh1ZGs4dlB1L1BTOHhMYTZONldaZ1p4dVZETEhkYXkwaWVBR1pjTkZqVFl6U1pqa1VHSnAKblJkRTNUUlkwSkI0eE1wOG1DMGNJWGZUaEU0R1I0L0xLbU1NR3FQckhDM1ErUjZ5enZuWkNVYVpOanA2VGwvagpHKzV3TVNQRzFYU1g0anpZOFFxQjRRaDZzL2NZYVNyZEI5aStqQzltYlYwU0tjOVU4U1kyQzNkcDZML3ZZckliCnZKNTJZZWl6ZUtjSWFEVS9wQlBpQ3JzdXhwb0Q4YWRzMEhmUWZsY2Z1YlRhcGdWYkZYTVk4WW16UEpjaDRGMEoKSVQxWUd4QkZwYVhERlMrQmRWU2JtOFptdWhsVEdiVlJGQ2hjNHdhTW4wSkFYTDRtZVlITXRPcmtyNTUzdFNVWAovY1ZZY2FhcW13V2NFS3ZqVDZRa3dWMkN0OFd0Y3FnVTViaVlxaUsrRWlVNHBhZXI2OXlhY25EVW03dUREbDdDCm5VQitWY0pRNFpYOC9RbXVjOXBUY2xlVFBVVUNCRnNZaHZYYVVOWjRpNVpXQXZQQjJCaFRnZ3BuNEo0OHlpczgKRzlWZENMcEpiVEZXWTk1WmV2aXhWWXdCeEVrdmxOamxPT3o4Z29Xb0RUOGhsdUoxM1h5bUx0Tml3TFcvcHVwbQpCMFpJRmR1V05GSFJQWDF0cHZxUUhZMlhYUUlEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQ0FRQ2NEN1hlCkNrN0lXaklzeElQUkpzS24wOVdlZ0UxbllmdXA3d1FmVGJZdjdvOVh2NWZKVGRCc3ZDdEVITWJuVDFxTmNGY1cKMnJvN0hCcVFyc2E4TnE3VGhyNnJrSHhabmd6bXUrMVFRamdrVTYxQTJNclVadS95UVk3TjJFbFBmWTlOcnhQeApGblpGalRqeDkxc081Y3BYbWgwaTBmcmo1QlNlb0poYndNOEVOa0ZqT3I4cVdvZWpQa2xoaGFaL1duZ243RGxNClI4WUtEMmFldVZJclptN05mdHNpZ3ZCSWttYTlrUDc2KzlRWjY3VDhZR2hOSVFqbmlIRzRkZWxlRDhibWxBamUKVE9iMGlxZlBFU3h3T2l0eUNwcEFoUERzcWVXRStUMHRBSXp3MTgxUmp2QTVyNmlTOEorVlk0N3lHRjRoVFYxTAoyZk1ST3hEVzdGYTJPblVxeFg4MkJHOHhpMVY2RGU2ekE0NlpnbjRzc2V4RmZDTW8rd3hLei9ISG1Cd3Yvb1BlCkkyZEo1UTR5Z0N4REZpcU5CbGRTZkNpU0RkdVZUdkFMWENsUjJwK1hnRnVJQ1BTdXFhamZySTdlTjVZVElFTHEKclVNdEJNMFNPVlhTM21sbHVkWDZkaDNUeWIzSXdVSVZVbENyRUFhVlF6YXdBYTlsUm1JQXZvdGRMME5VY0FpTAprUk5KZmFiNTZxSFE2SURkYm1tMGdVVUoxL3IrVzRGQ3c2dmkvL1JpbG16NEpHTW56d2dac21kZjF0YnJPUlA4CjRSWGdpQ2VLZjEydFY1akJFZmpaMDVzTUZITWRaY1lPK0JXYjZkVFRGWE1BcU81NmVMV3JScVluUVp4UlNLaEoKYzVZaFEyUUxrN0hIdG5KOFVQSmYzZlh2czQrK0lCZ3J2Q0o0bWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
            