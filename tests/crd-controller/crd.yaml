apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  # name must match the spec fields below, and be in the form: <plural>.<group>
  name: kamussecrets.soluto.com
spec:
  preserveUnknownFields: false
  # group name to use for REST API: /apis/<group>/<version>
  group: soluto.com
  # version name to use for REST API: /apis/<group>/<version>
  versions:
  - name: v1alpha1
    # Each version can be enabled/disabled by Served flag.
    served: true
    # One and only one version must be marked as the storage version.
    storage: false
    schema:
      openAPIV3Schema:
        type: object
        properties:
          data:
            type: object
            additionalProperties: true
          serviceAccount: 
            type: string
          type:
            type: string
  - name: v1alpha2
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        type: object
        properties:
          data:
            type: object
            additionalProperties: true
          stringData:
            type: object
            additionalProperties: true
          serviceAccount: 
            type: string
          type:
            type: string
  # either Namespaced or Cluster
  scope: Namespaced
  names:
    # plural name to be used in the URL: /apis/<group>/<version>/<plural>
    plural: kamussecrets
    # singular name to be used as an alias on the CLI and for display
    singular: kamussecret
    # kind is normally the CamelCased singular type. Your resource manifests use this.
    kind: KamusSecret
    # shortNames allow shorter string to match your resource on the CLI
    shortNames:
     - ks
  conversion:
    strategy: Webhook
    webhookClientConfig:
      service:
        namespace: default
        name: kamus-crd
        path: /api/v1/conversion-webhook
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwRENDQVl3Q0NRQ3hNd29hK0JleVVqQU5CZ2txaGtpRzl3MEJBUXNGQURBVU1SSXdFQVlEVlFRRERBbHIKWVcxMWN5MWpjbVF3SGhjTk1Ua3dPVEEwTVRNd05qRTBXaGNOTWpBd09UQXpNVE13TmpFMFdqQVVNUkl3RUFZRApWUVFEREFscllXMTFjeTFqY21Rd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURaCmZNdEdncUhHTkszVTZyS2pZWXhRc1NLQ1l4QUxxQ1pndk1JWEtoRkJPYmI1ek5pU3VTZ1RuRDN6UGMwTE8vRVEKclFFNTk3THJ5aGgwOFBPdXQ5WTBENEVDcURDMlhKb0VmU0Y1bkIrK3dwNXFnSDEyNllDS3F2aGlWTnpFQ3N0Kwp5QTd4QUVoYWUwdCtiWG9PTGxFbitZR2E1VytyK3l5bDFVN3VkaGZQVG5GbUxRaWJkQk55SnBPQUpHU1pHSExFCjBKbmpqcE9IYzRaSmtiMDlhNHNnenJYMmZ1Mi94UEF0VkIzbGQ3dGRORTRrZkZJdHV0ZkxpL08vRHl6VmQzOEoKbThCQXhtbm4zZ2Irdjh6MnpuN1BOVk9MbjRpeWIrMElnb3pnS0RrYUZCL2pHUGRTRFFUNG4xU1FGNjg2bUxWSQo4NXRWSitEWjgvZTVJaG5YcjJ5aEFnTUJBQUV3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUdPeFJoS014Tm1QClYrTkl5UFBDdG5BTG8rOEtrb3I0VGpqZVVPRHQreWpLckNzZEhnY1hLZHFTVkFwbmVMWWQ2RjdkNTNaNHlwRm0KZjd1V2xCaENVNk1BakhQZS9ZM3dsRFNhVU02UDVjSWZRcFFTeUZtYUhtMHFsRlJtaWVlUlBqaTBDeEVRcVI2QQo5d1lGNExhaEVJY0NNMzMreDgxcmpBRTdDUE8ySU9idXV6aFcvd1B6anM2eER3dERCbTJJdUtidDA4VzRid0NkCnNuVDlZYVpZbkhQR1NIc3NQNERWU3NpVkJSRVJGV1MxQ1Q4V3JqYW81cURwT1RNdS9jS00yMVJ0OW1YRHNHT3UKQnN5NXRqN250N0F1UzNGY1BORmRqR2RGVDFCT0gwTXlpSElQSkFUUURGcUVTdFRRSlRQNHRuNEpNTzVQTE1YTApWbjlBQmVONituST0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
            